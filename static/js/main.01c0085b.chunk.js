(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(86)},54:function(e,t,a){},72:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(17),s=a(3),u=a(15),l=a(42),m=(a(54),a(18)),h=a(24),p=a.n(h),d="\tLjEUfGR3AcoDRt53CmW0qfOsxNiDSUCH",f=function(e){var t=0,a=[];return e.forEach(function(e){var n={name:" ",key:" "};n.name=e.LocalizedName,n.key=e.Key,a[t]=n,t++}),{type:"GET_SUGGESTIONS",autoSuggestion:a}},v=function(e,t){return function(a){return p.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+t+"?apikey="+d).then(function(n){a(y(n.data[0].WeatherIcon,n.data[0].Temperature.Metric.Value,n.data[0].WeatherText,e,t))})}},y=function(e,t,a,n,r){if(e<10)var c="https://developer.accuweather.com/sites/default/files/0"+e+"-s.png";else c="https://developer.accuweather.com/sites/default/files/"+e+"-s.png";return{type:"GET_CURRENT",weatherIcon:c,temperature:t,weatherText:a,city:n,key:r}},g=function(e){return function(t){return p.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+e+"?apikey="+d+"&metric=true").then(function(e){t(b(e.data.DailyForecasts))})}},b=function(e){return{type:" GET_FORECAST",days:e}},E={weatherIcon:"",temperature:"",weatherText:"",city:"Tel-Aviv",key:"215854"},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT":return Object(m.a)({},e,{weatherIcon:t.weatherIcon,temperature:t.temperature+" C",weatherText:t.weatherText,city:t.city,key:t.key})}return e},S={days:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" GET_FORECAST":return Object(m.a)({},e,{days:t.days})}return e},w={autoSuggestion:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUGGESTIONS":return Object(m.a)({},e,{autoSuggestion:t.autoSuggestion})}return e},x=a(6),k=a(7),C=a(10),T=a(8),F=a(9),I=a(14),V=(a(72),function(){return r.a.createElement("nav",{className:"navbar navbar-light bg-light justify-content-xs-center"},r.a.createElement("p",{className:"Logo"},"LOGO"),r.a.createElement("ul",{className:"p-0"},r.a.createElement("li",{style:{fontSize:"20px",margin:"10px",display:"inline-block"}},r.a.createElement(u.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",{style:{fontSize:"20px",margin:"10px",display:"inline-block"}},r.a.createElement(u.b,{to:"/favorites"},"Favorites"))))}),W=a(16),R=a(44),_=a.n(R),G=(a(40),a(84),function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(C.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.onChange=function(e,t){var n=t.newValue;a.setState({value:n})},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.props.onInputChange(t)},a}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state.value,a=this.props.autoSuggestion,n={placeholder:"Search City",value:t,onChange:this.onChange};return r.a.createElement("div",{className:"search-cont"},r.a.createElement(_.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,getSuggestionValue:function(t){return e.props.onSearchCurrent(t.name,t.key),e.props.onSearchForcast(t.key),t.name},renderSuggestion:function(e){return r.a.createElement("div",null,e.name)},inputProps:n}))}}]),t}(n.Component)),M=Object(s.b)(function(e){return{autoSuggestion:e.search.autoSuggestion}},function(e){return{onInputChange:function(t){return e(function(e){return function(t){return p.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?q="+e+"&apikey="+d).then(function(e){t(f(e.data))})}}(t))},onSearchCurrent:function(t,a){return e(v(t,a))},onSearchForcast:function(t){return e(g(t))}}})(G),D=Object(s.b)(function(e){return{weatherText:e.current.weatherText}})(function(e){return r.a.createElement("div",{className:"col-12 my-4 text-center"},r.a.createElement("h1",null,e.weatherText))}),J=function(e){return r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:e.iconValue,alt:"icon"}),r.a.createElement("h5",null,e.tempValue),r.a.createElement("h5",null,e.cityValue))},U=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement(J,{iconValue:this.props.icon,tempValue:this.props.temp,cityValue:this.props.city})}}]),t}(n.Component),A=Object(s.b)(function(e){return{icon:e.current.weatherIcon,temp:e.current.temperature,city:e.current.city}})(U),q=function(e){return r.a.createElement("div",{className:"col-12 col-md-2 justify-content-center"},r.a.createElement("div",{className:"card bg-light mb-3 justify-content-center"},r.a.createElement("h6",{className:"card-header text-center"},e.dayValue),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text text-center"},"Max: ",e.maxValue," C"),r.a.createElement("p",{className:"card-text text-center"},"Min: ",e.minValue," C"))))},L=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){if(0!==this.props.days.length){for(var e=[],t=0;t<5;t++)e.push(r.a.createElement(q,{dayValue:this.props.days[t].Date.slice(5,10),minValue:this.props.days[t].Temperature.Minimum.Value,maxValue:this.props.days[t].Temperature.Maximum.Value}));return e}return r.a.createElement(q,{dayValue:"not found"})}}]),t}(n.Component),z=Object(s.b)(function(e){return{days:e.forecast.days}})(L),B=a(30),H=a.n(B),P=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(T.a)(t).call(this,e))).state={isFavorite:!1},a.addToFavorites=a.addToFavorites.bind(Object(W.a)(a)),a.removeFromFavorites=a.removeFromFavorites.bind(Object(W.a)(a)),a}return Object(F.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){"Tel-Aviv"===this.props.currentWeather.city&&(this.props.onSearchCurrent(this.props.currentWeather.city,this.props.currentWeather.key),this.props.onSearchForcast(this.props.currentWeather.key))}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("favorites")),t=H.a.find(e,{city:this.props.currentWeather.city});this.setState({isFavorite:!!t})}},{key:"componentDidUpdate",value:function(e){if(this.props.currentWeather!==e.currentWeather){var t=JSON.parse(localStorage.getItem("favorites")),a=H.a.find(t,{city:this.props.currentWeather.city});this.setState({isFavorite:!!a})}}},{key:"addToFavorites",value:function(){try{var e=JSON.parse(localStorage.getItem("favorites"));(e=e||[]).push(this.props.currentWeather),localStorage.setItem("favorites",JSON.stringify(e)),this.setState({isFavorite:!0})}catch(t){alert("ERR insert in to favorites")}}},{key:"removeFromFavorites",value:function(){var e=this;try{var t=JSON.parse(localStorage.getItem("favorites"));t=(t=t||[]).filter(function(t){return t.city!==e.props.currentWeather.city}),localStorage.setItem("favorites",JSON.stringify(t)),this.setState({isFavorite:!1})}catch(a){alert("ERR removing from favorites")}}},{key:"render",value:function(){var e=this.state.isFavorite;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(M,null),r.a.createElement("div",{className:"row mt-5 justify-content-between"},r.a.createElement(A,null),r.a.createElement("div",{className:"col-4 text-right  mt-4"},!e&&r.a.createElement("button",{onClick:this.addToFavorites,type:"button",className:"btn btn-success border 1px solid: black"},"Add to favorites"),e&&r.a.createElement("button",{onClick:this.removeFromFavorites,type:"button",className:"btn btn-light border 1px solid: black"},"Remove from favorites"))),r.a.createElement("div",{className:"row mt-4 justify-content-center"},r.a.createElement(D,null)),r.a.createElement("div",{className:"row justify-content-between mt-4",style:{height:"200px"}},r.a.createElement(z,null)))}}]),t}(n.Component),X=Object(s.b)(function(e){return{currentWeather:e.current}},function(e){return{onSearchCurrent:function(t,a){return e(v(t,a))},onSearchForcast:function(t){return e(g(t))}}})(P),K=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(T.a)(t).call(this,e))).state={favorites:[],redirect:!1},a.updateCurrent=a.updateCurrent.bind(Object(W.a)(a)),a}return Object(F.a)(t,e),Object(k.a)(t,[{key:"updateCurrent",value:function(e){this.setState({redirect:!0}),this.props.onChangeCurrent(e.city,e.key),this.props.onChangeForcast(e.key)}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("favorites"));this.setState({favorites:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.favorites;return a?r.a.createElement(I.a,{to:"/"}):r.a.createElement("div",{className:"container mt-5"},r.a.createElement("ul",null,r.a.createElement("div",{className:"row"},n.map(function(t){return r.a.createElement("li",{onClick:function(){e.updateCurrent(t)},className:"card bg-light mb-3 mx-1",style:{fontSize:"20px",width:"200px",height:"200px",cursor:"pointer"}},r.a.createElement("h6",{className:"card-header text-center"},t.city),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text text-center"},t.temperature),r.a.createElement("p",{className:"card-text text-center"},t.weatherText)))}))))}}]),t}(n.Component),$=Object(s.b)(function(e){return{city:e.current.city,temp:e.current.temperature,weatherText:e.current.weatherText}},function(e){return{onChangeCurrent:function(t,a){return e(v(t,a))},onChangeForcast:function(t){return e(g(t))}}})(K),Q=function(e){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(V,null),r.a.createElement(I.d,null,r.a.createElement(I.b,{path:"/Favorites",component:$}),r.a.createElement(I.b,{path:"/",component:X})))))},Y=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement(Q,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=Object(i.c)({current:O,forecast:j,search:N}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,te=Object(i.e)(Z,ee(Object(i.a)(function(e){return function(t){return function(a){console.log("[Middleware] Dispatching",a);var n=t(a);return console.log("[Middleware] next state",e.getState()),n}}},l.a)));o.a.render(r.a.createElement(u.a,null,r.a.createElement(s.a,{store:te},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.01c0085b.chunk.js.map